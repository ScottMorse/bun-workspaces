---
title: Library API
titleSuffix: " | bun-workspaces"
description: "API documentation for bun-workspaces | Documentation for bun-workspaces: A CLI to help manage Bun monorepos"
pageType: doc
sidebar: false
outline: true
footer: false
---

import { SyntaxHighlighter } from "../../content/highlight";
import { CREATE_FS_PROJECT_EXAMPLE, CREATE_SCRIPT_COMMAND_EXAMPLE, FIND_WORKSPACE_BY_ALIAS_EXAMPLE, FIND_WORKSPACE_BY_NAME_EXAMPLE, FIND_WORKSPACE_BY_NAME_OR_ALIAS_EXAMPLE, FIND_WORKSPACES_BY_PATTERN_EXAMPLE, LIST_WORKSPACES_WITH_SCRIPT_EXAMPLE, MAP_SCRIPTS_TO_WORKSPACES_EXAMPLE, MULTI_METHOD_SCRIPTS_EXAMPLE, SET_LOG_LEVEL_EXAMPLE, WORKSPACE_EXAMPLE } from '../../content/api/apiExamples';
import { CREATE_MEMORY_PROJECT_EXAMPLE } from '../../content/api/apiExamples';

# Library API

Reminder: While the CLI can be used simply with `bunx bun-workspaces`, using the API will require you to install the package via `bun add --dev bun-workspaces`.

## `Project`

The core of `bun-workspaces`'s functionality. 
It contains a list of [Workspace](/api#workspace)s and provides 
several useful methods for working with them.

Usually created via [createFileSystemProject](/api#createfilesystemproject).

### `.findWorkspaceByName`
`findWorkspaceByName(workspaceName: string): Workspace | null`

Find a [Workspace](/api#workspace) by its package.json name.
<SyntaxHighlighter language="typescript">
{FIND_WORKSPACE_BY_NAME_EXAMPLE}
</SyntaxHighlighter>

### `.findWorkspaceByAlias`
`findWorkspaceByAlias(alias: string): Workspace | null`

Find a [Workspace](/api#workspace) by its [alias](/config#about-workspace-aliases), if set in its [workspace configuration](/config#workspace-configuration).
<SyntaxHighlighter language="typescript">
{FIND_WORKSPACE_BY_ALIAS_EXAMPLE}
</SyntaxHighlighter>

### `.findWorkspaceByNameOrAlias`
`findWorkspaceByNameOrAlias(nameOrAlias: string): Workspace | null`

Find a [Workspace](/api#workspace) by its package.json name or [alias](/config#about-workspace-aliases), if set in its [workspace configuration](/config#workspace-configuration).

Since aliases are validated to be unique to each workspace
and not clash with other workspaces' package.json names,
this method can still unambiguously find a workspace.

<SyntaxHighlighter language="typescript">
{FIND_WORKSPACE_BY_NAME_OR_ALIAS_EXAMPLE}
</SyntaxHighlighter>

### `.findWorkspacesByPattern`
`findWorkspacesByPattern(workspacePattern: string): Workspace[]`

Find a list of [Workspace](/api#workspace)s by their name, using a wildcard pattern.

To prevent ambiguity, this method does not match workspace [aliases](/config#about-workspace-aliases).
<SyntaxHighlighter language="typescript">
{FIND_WORKSPACES_BY_PATTERN_EXAMPLE}
</SyntaxHighlighter>


### `.listWorkspacesWithScript`
`listWorkspacesWithScript(scriptName: string): Workspace[]`

Get an array of all [Workspace](/api#workspace)s that have a given script in their package.json "scripts" field.
<SyntaxHighlighter language="typescript">
{LIST_WORKSPACES_WITH_SCRIPT_EXAMPLE}
</SyntaxHighlighter>

### `.mapScriptsToWorkspaces`
`mapScriptsToWorkspaces(): Record<string, ScriptMetadata>`

Get a mapping of all project script names to the [Workspace](/api#workspace)s that have them in their package.json "scripts" field.
<SyntaxHighlighter language="typescript">
{MAP_SCRIPTS_TO_WORKSPACES_EXAMPLE}
</SyntaxHighlighter>

### `.createScriptCommand`
`createScriptCommand(options: CreateProjectScriptCommandOptions): CreateProjectScriptCommandResult`

Create a metadata that can be used to run a [Workspace](/api#workspace)'s script.

The `"method"` option changes what kind of `bun` command is implemented to run the script.
`"cd"` is generally recommended over `"filter"` in order to get full stdout/stderr output from the script.
<SyntaxHighlighter language="typescript">
{CREATE_SCRIPT_COMMAND_EXAMPLE  }
</SyntaxHighlighter>

### Using multiple methods to run scripts

An example of running multiple scripts in series and parallel:

<SyntaxHighlighter language="typescript">
{MULTI_METHOD_SCRIPTS_EXAMPLE}
</SyntaxHighlighter>

## `Workspace`

An object representing a workspace in a [Project](/api#project).

<SyntaxHighlighter language="typescript">
{WORKSPACE_EXAMPLE}
</SyntaxHighlighter>

## `createFileSystemProject`
`createFileSystemProject(options: CreateFileSystemProjectOptions): FileSystemProject`

Create a [Project](/api#project), the core of `bun-workspaces`'s functionality, based on a given root directory.

This finds [Workspaces](/api#workspace) based on the `"workspaces"` field in the root package.json.
It will also detect and utilize any [workspace configuration](/config#workspace-configuration) found.

<SyntaxHighlighter language="typescript">
{CREATE_FS_PROJECT_EXAMPLE}
</SyntaxHighlighter>


## `createMemoryProject`
`createMemoryProject(options: CreateMemoryProjectOptions): MemoryProject`

Create a [Project](/api#project) from a given array of [Workspace](/api#workspace)s. 

Usually used  only for testing purposes to do without the need for a real project
in the file system.

Since it doesn't read anything from the file system,
it isn't affected by [workspace configuration](/config#workspace-configuration).

<SyntaxHighlighter language="typescript">
{CREATE_MEMORY_PROJECT_EXAMPLE}
</SyntaxHighlighter>

## `setLogLevel`
`setLogLevel(level: LogLevelSetting)`

Set the global logging level. Defaults to "info" or "error" when `NODE_ENV` is "test".
<SyntaxHighlighter language="typescript">
{SET_LOG_LEVEL_EXAMPLE}
</SyntaxHighlighter>